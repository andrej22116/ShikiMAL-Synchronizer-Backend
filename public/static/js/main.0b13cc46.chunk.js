(this["webpackJsonpshiki-mal-synchronizer"]=this["webpackJsonpshiki-mal-synchronizer"]||[]).push([[0],{36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var i=n(3),r=n.n(i),s=n(16),a=n.n(s),c=(n(36),n(37),n(38),n(0)),o=function(e){var t=e.userStore,n=e.authClient,i=e.titleStyleName;return Object(c.jsxs)("div",{className:"menu-user-block",children:[Object(c.jsx)("div",{className:"menu-user-block-base-img menu-user-block-img-wrap",children:Object(c.jsx)("img",{src:t.picSrc,alt:t.nickname})}),Object(c.jsxs)("div",{className:"menu-user-block-overlay",children:[Object(c.jsx)("div",{className:"menu-user-block-overlay-img menu-user-block-img-wrap",children:Object(c.jsx)("img",{src:t.picSrc,alt:t.nickname,title:t.nickname})}),Object(c.jsxs)("div",{className:"menu-user-block-overlay-info",children:[Object(c.jsxs)("div",{className:"menu-user-block-overlay-info-text",children:[Object(c.jsx)("i",{className:i}),Object(c.jsx)("p",{title:t.nickname,children:t.nickname})]}),Object(c.jsx)("button",{onClick:function(){return n.logout()},children:"Logout"})]})]})]})},u=n(1),l=n.n(u),h=n(4),m=n(2);function d(){return Object(m.n)({authorization:!1,isAuthorized:!1,setAuthorized:function(){this.isAuthorized=!0,this.setAuthorizationProcessState(!1)},setAuthorizationProcessState:function(e){this.authorization=e},logout:function(){this.token=null,this.isAuthorized=!1},setToken:function(e){this.token=e}})}var p={shikimori:d(),myAnimeList:d()},f=n(6),j=n(8),b=n(14),g=n(13),w=function(e){switch(+e.status){case 1:return"watching";case 2:return"completed";case 3:return"plan_to_watch";case 4:return"on_hold";case 5:return"dropped"}},k=function(e){if(e.rewatching)return"rewatching";switch(+e.status){case 1:return"watching";case 2:return"completed";case 3:return"planned";case 4:return"on_hold";case 5:return"dropped"}},v=function(){function e(t,n,i,r,s,a,c,o,u,l){var h=this;Object(f.a)(this,e),this.setWatchedEpisod=function(e){(0<=e&&e<=h.episodes.total||!h.episodes.total)&&(h.episodes.watched=+e)},this.incrementWatchedEpisod=function(){h.episodes.watched=!h.episodes.total||h.episodes.watched<h.episodes.total?h.episodes.watched+1:h.episodes.total},this.decrimentWatchedEpisod=function(){h.episodes.watched=!h.episodes.total||h.episodes.watched>0?h.episodes.watched-1:0},this.setScore=function(e){h.score=e},this.setRewatching=function(e){h.rewatching=e},this.setStatus=function(e){h.status=e},this.animeId=t,this.raitId=n,this.name=i,this.status=+r,this.image={small:s,big:a},this.episodes={watched:c,total:o},this.score=u,this.rewatching=l,Object(m.o)(this,{episodes:m.p,status:m.p,score:m.p,rewatching:m.p,setWatchedEpisod:m.f,incrementWatchedEpisod:m.f,decrimentWatchedEpisod:m.f,setScore:m.f,setRewatching:m.f,setStatus:m.f})}return Object(j.a)(e,[{key:"watchedEpisodes",get:function(){return this.episodes.watched}},{key:"totalEpisodes",get:function(){return this.episodes.total}},{key:"smallImage",get:function(){return this.image.small}},{key:"bigImage",get:function(){return this.image.big}}]),e}(),O=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;Object(f.a)(this,e),this._objectsMap={},this._callback=t,this._timeoutDelay=n}return Object(j.a)(e,[{key:"push",value:function(e){var t=e.raitId;if(this._objectsMap[t]){var n=this._objectsMap[t];return clearTimeout(n.timeoutId),void(n.timeoutId=this.__setTimeout(e))}this._objectsMap[t]={timeoutId:this.__setTimeout(e),anime:e}}},{key:"__timeoutCallback",value:function(e){delete this._objectsMap[e.raitId],this._callback(e)}},{key:"__setTimeout",value:function(e){return setTimeout(this.__timeoutCallback.bind(this,e),this._timeoutDelay)}}]),e}(),y=function(){function e(){Object(f.a)(this,e)}return Object(j.a)(e,[{key:"user",value:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error('Property "user" is not implemented!');case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"animeList",value:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error('Property "animeList" is not implemented!');case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"animeList_watching",value:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error('Property "animeList_watching" is not implemented!');case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"animeList_completed",value:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error('Property "animeList_completed" is not implemented!');case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"animeList_dropped",value:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error('Property "animeList_dropped" is not implemented!');case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"animeList_onhold",value:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error('Property "animeList_onhold" is not implemented!');case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"animeList_plane2watch",value:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error('Property "animeList_plane2watch" is not implemented!');case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setEpisode",value:function(e){throw new Error('Property "setEpisode" is not implemented!')}},{key:"setStatus",value:function(e){throw new Error('Property "setStatus" is not implemented!')}},{key:"setScore",value:function(e){throw new Error('Property "setScore" is not implemented!')}},{key:"setRewatching",value:function(e){throw new Error('Property "setRewatching" is not implemented!')}}]),e}(),x=n(11),_=n.n(x),L=new function e(){var t=this;Object(f.a)(this,e),this.Users={me:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.axios.get("/user/me").then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),animeList:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.axios.get("/anime/library").then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},this.Raits={get:function(){var e=Object(h.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.axios.get("/anime/rates/".concat(n)).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),create:function(){var e=Object(h.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.axios.post("/anime/rates",n).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(h.a)(l.a.mark((function e(n,i){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.axios.patch("/anime/rates/".concat(n),i).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),delete:function(){var e=Object(h.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.axios.delete("/anime/rates/".concat(n)).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},this.axios=_.a.create({withCredentials:!0,baseURL:"/shikimori",headers:{"Content-Type":"application/json"}}),this.axios.interceptors.request.use((function(e){if(0===!M.shikimori.id)throw new Error("Invalid token!");return e}),(function(e){return Promise.reject(e)}))},A=function(e){Object(b.a)(n,e);var t=Object(g.a)(n);function n(){var e;return Object(f.a)(this,n),(e=t.call(this)).__changeCommiter=new O(e.__changeAnimeRait),e}return Object(j.a)(n,[{key:"user",value:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L.Users.me().then((function(e){return{id:e.id,nickname:e.nickname,picSrc:e.image.x160}})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"animeList",value:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L.Users.animeList());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"animeList_watching",value:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L.Users.animeList({status:"watching"}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"animeList_completed",value:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L.Users.animeList({status:"completed"}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"animeList_dropped",value:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L.Users.animeList({status:"dropped"}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"animeList_onhold",value:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L.Users.animeList({status:"on_hold"}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"animeList_plane2watch",value:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L.Users.animeList({status:"planned"}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setEpisode",value:function(e){this.__changeCommiter.push(e)}},{key:"setStatus",value:function(e){this.__changeCommiter.push(e)}},{key:"setScore",value:function(e){this.__changeCommiter.push(e)}},{key:"setRewatching",value:function(e){this.__changeCommiter.push(e)}},{key:"__changeAnimeRait",value:function(e){console.log(k(e)),L.Raits.update(e.raitId,{episodes:e.watchedEpisodes,score:e.score,status:k(e)}).then((function(e){return console.log(e)})).catch((function(e){return console.error(e)}))}}]),n}(y),S=new function e(){var t=this;Object(f.a)(this,e),this.Users={me:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.axios.get("/user/me.php").then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),animeList:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.axios.get("/anime/library").then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},this.Anime={get:function(){var e=Object(h.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.axios.get("/anime/rates/".concat(n)).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(h.a)(l.a.mark((function e(n,i){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.axios.patch("/anime/rates/".concat(n),i).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),delete:function(){var e=Object(h.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.axios.delete("/anime/rates/".concat(n)).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},this.axios=_.a.create({withCredentials:!0,baseURL:"/myanimelist",headers:{"Content-Type":"application/json"}}),this.axios.interceptors.request.use((function(e){if(0===!M.myAnimeList.id)throw new Error("Invalid token!");return e}),(function(e){return Promise.reject(e)}))},N=function(e){Object(b.a)(n,e);var t=Object(g.a)(n);function n(){var e;return Object(f.a)(this,n),(e=t.call(this)).__changeCommiter=new O(e.__changeAnimeRait),e}return Object(j.a)(n,[{key:"user",value:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.Users.me().then((function(e){return{id:e.id,nickname:e.name,picSrc:e.picture}})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"animeList",value:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.Users.animeList());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"animeList_watching",value:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.Users.animeList({status:"watching"}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"animeList_completed",value:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.Users.animeList({status:"completed"}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"animeList_dropped",value:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.Users.animeList({status:"dropped"}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"animeList_onhold",value:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.Users.animeList({status:"on_hold"}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"animeList_plane2watch",value:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.Users.animeList({status:"plan_to_watch"}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setEpisode",value:function(e){this.__changeCommiter.push(e)}},{key:"setStatus",value:function(e){this.__changeCommiter.push(e)}},{key:"setScore",value:function(e){this.__changeCommiter.push(e)}},{key:"setRewatching",value:function(e){this.__changeCommiter.push(e)}},{key:"__changeAnimeRait",value:function(e){S.Anime.update(e.animeId,{num_watched_episodes:e.watchedEpisodes,score:e.score,status:w(e)}).then((function(e){return console.log(e)})).catch((function(e){return console.error(e)}))}}]),n}(y);function C(e){return Object(m.n)({id:0,nickname:"",picSrc:"",setUserData:function(e){this.id=e.id,this.nickname=e.nickname,this.picSrc=e.picSrc},setNoUser:function(){this.setUserData({id:0,nickname:"",picSrc:""})},updateUser:function(){var t=this;return Object(h.a)(l.a.mark((function n(){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=t,n.next=3,e.user();case 3:n.t1=n.sent,n.t0.setUserData.call(n.t0,n.t1);case 5:case"end":return n.stop()}}),n)})))()},test:function(){var t=this;return Object(h.a)(l.a.mark((function n(){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=console,n.next=3,e.animeList(1,20);case 3:n.t1=n.sent,n.t2=t.id,n.t0.log.call(n.t0,n.t1,n.t2);case 6:case"end":return n.stop()}}),n)})))()}})}var E={shikimori:C(new A),myAnimeList:C(new N)};Object(m.q)((function(){return p.shikimori.isAuthorized}),(function(){p.shikimori.isAuthorized?E.shikimori.updateUser():E.shikimori.setNoUser()})),Object(m.q)((function(){return p.myAnimeList.isAuthorized}),(function(){p.myAnimeList.isAuthorized?E.myAnimeList.updateUser():E.myAnimeList.setNoUser()})),Object(m.q)((function(){return E.shikimori.id}),(function(){E.shikimori.id})),Object(m.q)((function(){return E.myAnimeList.id}),(function(){E.myAnimeList.id}));var M=E,W=function(){function e(){Object(f.a)(this,e)}return Object(j.a)(e,[{key:"name",get:function(){throw new Error('Method "name" not implemented!')}},{key:"login",value:function(){throw new Error('Method "login" not implemented!')}},{key:"logged",value:function(){var e=Object(h.a)(l.a.mark((function e(){var t=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw t.length>0&&void 0!==t[0]?t[0]:null,new Error('Method "logged" not implemented!');case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"logout",value:function(){throw new Error('Method "logout" not implemented!')}}]),e}(),z=function(){function e(t,n){var i=this;Object(f.a)(this,e);this.window=window.open(n,t,"height=670,width=1400,toolbar=no,menubar=no,scrollbars=no,resizable=no,location=no,directories=no,status=no"),this.isClosed=!1,Object(m.o)(this,{isClosed:m.p,setClosed:m.f}),this.intervalId=setInterval((function(){i.window.closed&&(clearInterval(i.intervalId),i.setClosed())}),1e3),Object(m.g)((function(){console.log("Is closed: ".concat(i.isClosed))}))}return Object(j.a)(e,[{key:"setClosed",value:function(){this.isClosed=!0}}]),e}();function I(e,t){var n=new z(e,t);return Object(m.g)((function(){return p.myAnimeList.setAuthorizationProcessState(!n.isClosed)})),n}var U=new(function(e){Object(b.a)(n,e);var t=Object(g.a)(n);function n(){var e;return Object(f.a)(this,n),(e=t.call(this)).axios=_.a.create({baseURL:"/myanimelist",withCredentials:!0}),e._window=null,e}return Object(j.a)(n,[{key:"name",get:function(){return"MyAnimeList"}},{key:"login",value:function(){var e=this;this._window=new I(this.name,"/myanimelist/authorization.php"),Object(m.q)((function(){return e._window.isClosed}),(function(){e._window.isClosed&&(e.logged(),e._window=null)}))}},{key:"logged",value:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.axios.get("/authorized.php").then((function(e){return e.data}));case 2:e.sent.logged&&(p.myAnimeList.setToken(""),p.myAnimeList.setAuthorized());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"logout",value:function(){this.axios.get("/logout.php"),p.myAnimeList.logout()}}]),n}(W));U.logged();var R=U,P=function(){return Object(c.jsx)(o,{userStore:M.myAnimeList,authClient:R,titleStyleName:"icon-mal"})};function T(e,t){var n=new z(e,t);return Object(m.g)((function(){return p.shikimori.setAuthorizationProcessState(!n.isClosed)})),n}var G=new(function(e){Object(b.a)(n,e);var t=Object(g.a)(n);function n(){var e;return Object(f.a)(this,n),(e=t.call(this)).axios=_.a.create({baseURL:"/shikimori/",withCredentials:!0}),e._window=null,e}return Object(j.a)(n,[{key:"name",get:function(){return"Shikimori"}},{key:"login",value:function(){var e=this;this._window=new T(this.name,"/shikimori/authorization.php"),Object(m.q)((function(){return e._window.isClosed}),(function(){e._window.isClosed&&(e.logged(),e._window=null)}))}},{key:"logged",value:function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.axios.get("/authorized.php").then((function(e){return e.data}));case 2:e.sent.logged&&(p.shikimori.setToken(""),p.shikimori.setAuthorized());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"logout",value:function(){this.axios.get("/logout.php").then((function(e){return console.log(e)})),p.shikimori.logout()}}]),n}(W));G.logged();var q=G,B=function(){return Object(c.jsx)(o,{userStore:M.shikimori,authClient:q,titleStyleName:"icon-shikimori"})},D=n(12),F=n(9),H=(n(58),function(e){return Object(c.jsx)("input",Object(F.a)(Object(F.a)({},e),{},{className:"base-input "+(e.className?e.className:"")}))}),J=(n(59),function(e){return Object(c.jsx)("button",Object(F.a)(Object(F.a)({},e),{},{className:"base-button "+(e.className?e.className:"")}))}),V=(n(60),function(e){var t=e.iconName,n=e.children,i=e.title;return Object(c.jsxs)("div",{className:"left-menu-popup",title:i,children:[Object(c.jsx)("div",{className:"left-menu-popup-icon",children:Object(c.jsx)("i",{className:t})}),Object(c.jsx)("div",{className:"left-menu-popup-wrap",children:r.a.Children.toArray(n)})]})}),Y=(n(61),{global:Object(m.n)({backgroundImage:window.localStorage.getItem("backgroundImage")||"https://github.com/andrej22116/shikimori-stylesheet/blob/main/bg.jpg?raw=true",useAccentBlur:"true"===window.localStorage.getItem("accentBlur"),useItemHighlite:"true"===window.localStorage.getItem("itemHighlite"),setBackgroundImage:function(e){var t=this;e&&e.length&&_.a.get(e).then((function(){Object(m.r)((function(){t.backgroundImage=e,window.localStorage.setItem("backgroundImage",e)}))}))},setUsingAccentBlur:function(e){this.useAccentBlur=e,window.localStorage.setItem("accentBlur",e)},setUsingItemHighlite:function(e){this.useItemHighlite=e,window.localStorage.setItem("itemHighlite",e)}})});Object(m.g)((function(){document.body.style.backgroundImage="url('".concat(Y.global.backgroundImage,"'")}));var K=Y,Q=function(){var e=Object(i.useState)(),t=Object(D.a)(e,2),n=t[0],r=t[1];return Object(c.jsx)(V,{iconName:"icon-picture",title:"Setup background image",children:Object(c.jsxs)("div",{className:"bg-image-path-setting",children:[Object(c.jsx)("h3",{children:"Setup background image"}),Object(c.jsxs)("div",{children:[Object(c.jsx)(H,{title:"Enter image URL to this place",type:"text",placeholder:"Image URL",value:n,onChange:function(e){return r(e.target.value)}}),Object(c.jsx)(J,{className:"bg-image-path-setting-btn",onClick:function(){return K.global.setBackgroundImage(n),void r("")},children:"Setup"})]})]})})},X=(n(62),function(e){var t=["base-toggle"],n=!1;return e.checked&&(t.push("checked"),n=!0),e.className&&t.push(e.className),Object(c.jsxs)("div",Object(F.a)(Object(F.a)({},e),{},{className:t.join(" "),children:[Object(c.jsx)("div",{onClick:function(){e.onChange&&e.onChange(!n)},children:n?Object(c.jsx)("div",{className:"checked"},"on"):Object(c.jsx)("div",{className:"not-checked"},"off")}),Object(c.jsx)("p",{children:r.a.Children.toArray(e.children)})]}))}),Z=(n(63),n(5)),$=Object(Z.c)((function(){return Object(c.jsx)(V,{iconName:"icon-cog",title:"Setup background image",children:Object(c.jsxs)("div",{className:"options-toggles",children:[Object(c.jsx)("h3",{children:"List options"}),Object(c.jsxs)("div",{children:[Object(c.jsx)(X,{checked:K.global.useAccentBlur,onChange:function(e){return K.global.setUsingAccentBlur(e)},children:"Use accent blure"}),Object(c.jsx)(X,{checked:K.global.useItemHighlite,onChange:function(e){return K.global.setUsingItemHighlite(e)},children:"Use item highlight"})]})]})})})),ee=(n(64),function(){return Object(c.jsxs)("div",{className:"left-menu",children:[Object(c.jsx)("div",{className:"left-menu-bg"}),Object(c.jsxs)("div",{className:"left-menu-items",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)(B,{}),Object(c.jsx)(P,{})]}),Object(c.jsx)("div",{className:"left-menu-items-middle"}),Object(c.jsxs)("div",{className:"left-menu-items-bottom",children:[Object(c.jsx)($,{}),Object(c.jsx)(Q,{})]})]})]})}),te=function(e){var t=e.score,n=e.setScore,r=Object(i.useState)(!1),s=Object(D.a)(r,2),a=s[0],o=s[1],u=Object(i.useState)(1),l=Object(D.a)(u,2),h=l[0],m=l[1];t=a?h+1:t;for(var d=[],p=function(e){d.push(Object(c.jsx)("i",{title:"Click for set ".concat(e+1," score"),className:e<t?"icon-star":"icon-star-empty",onMouseEnter:function(){o(!0),m(e)},onMouseOut:function(){o(!1)},onClick:function(){return n(h+1)}},e))},f=0;f<10;f++)p(f);return Object(c.jsxs)("div",{className:"score",onMouseOver:function(){return o(!0)},onMouseOut:function(){return o(!1)},children:[d,Object(c.jsx)("span",{children:a?h+1:t})]})},ne=(n(65),function(e){return Object(c.jsx)("select",Object(F.a)(Object(F.a)({},e),{},{className:"base-selection "+(e.className?e.className:"")}))}),ie=(n(66),Object(Z.c)((function(e){var t=e.anime,n=e.style;return Object(c.jsxs)("div",{className:"anime-grid-item",style:n,children:[K.global.useAccentBlur?Object(c.jsx)("div",{className:"anime-grid-item-overlay"}):null,Object(c.jsxs)("div",{className:"anime-grid-item-wrap",children:[K.global.useItemHighlite?Object(c.jsx)("div",{className:"anime-grid-item-bg blur",children:Object(c.jsx)("img",{src:t.bigImage,alt:"anime"})}):null,Object(c.jsx)("div",{className:"anime-grid-item-bg",children:Object(c.jsx)("img",{src:t.bigImage,alt:"anime"})}),Object(c.jsxs)("div",{className:"anime-grid-item-fg",children:[Object(c.jsx)("h4",{className:"title",children:t.name}),Object(c.jsxs)("div",{className:"controls",children:[Object(c.jsx)("div",{className:"status",children:Object(c.jsxs)(ne,{value:t.status,onChange:function(e){return t.setStatus(e.target.value)},children:[Object(c.jsx)("option",{value:1,children:"Watching"}),Object(c.jsx)("option",{value:2,children:"Completed"}),Object(c.jsx)("option",{value:3,children:"Plan to watch"}),Object(c.jsx)("option",{value:4,children:"On hold"}),Object(c.jsx)("option",{value:5,children:"Dropped"})]})}),Object(c.jsxs)("div",{className:"watching",children:[Object(c.jsx)(J,{title:"Decrement episode",onClick:function(){return t.decrimentWatchedEpisod()},children:"-"}),Object(c.jsx)(H,{className:"input",value:t.watchedEpisodes,onChange:function(e){return t.setWatchedEpisod(e.target.value)},title:"Wathed episodes"}),Object(c.jsx)(J,{title:"Increment episode",onClick:function(){return t.incrementWatchedEpisod()},children:"+"})]}),Object(c.jsx)(te,{anime:t,score:t.score,setScore:function(e){t.setScore(e)}})]})]})]})]},t.id)}))),re=n(29),se=(n(85),function(e,t,n,i,r,s){return{size:{width:e,height:t},margin:{top:n,left:s,right:i,bottom:r},finalSize:{width:e+s+i,height:t+n+r}}}),ae={large:se(300,426,24,8,24,8),medium:se(300,426,24,8,24,8),small:se(300,426,24,8,24,8)},ce=Object(m.n)({animeListStyleProfileType:"grid",animeListStyleProfile:ae.large,windowSize:{width:window.innerWidth,height:window.innerHeight},workspaceSize:{width:window.innerWidth-30,height:window.innerHeight},uiDeviceFormat:0,updateWindowSize:function(e,t){this.windowSize.width=e,this.windowSize.height=t,this.workspaceSize.width=e-30,this.workspaceSize.height=t}});window.addEventListener("resize",(function(){ce.updateWindowSize(window.innerWidth,window.innerHeight)}));var oe=ce,ue=Object(Z.c)((function(e){var t=e.store,n=Object(i.useState)(0),r=Object(D.a)(n,2),s=r[0],a=r[1],o=function(e,t){var n=oe.workspaceSize,i=n.width,r=n.height,s=oe.animeListStyleProfile.finalSize.width,a=oe.animeListStyleProfile.finalSize.height,o=Math.floor(i/s),u=Math.ceil(r/a+3),l=Math.ceil(e.length/o),h=Math.floor(t/a);h-u>l?h-=u:h>0&&h--;for(var m,d,p=[],f=h*o,j=0;j<u&&f<e.length;j++){for(var b=[],g=0;g<o&&f<e.length;g++,f++)b.push(Object(c.jsx)(ie,{anime:e[f]}));m=h+j,d=b,p.push(Object(c.jsx)("div",{className:"anime-list-grid-view-row",children:d},m))}return Object(c.jsx)("div",{className:"container",style:{paddingTop:h*a,paddingBottom:(l-(h+j))*a},children:p})}(t.animeList,s);return Object(c.jsx)(re.Scrollbars,{style:{width:oe.workspaceSize.width,height:oe.workspaceSize.height},renderTrackVertical:function(e){return Object(c.jsx)("div",Object(F.a)(Object(F.a)({},e),{},{className:"vertical-track"}))},renderThumbVertical:function(e){return Object(c.jsx)("div",Object(F.a)(Object(F.a)({},e),{},{className:"vertical-tumb"}))},onScrollFrame:function(e){return a(e.scrollTop)},children:Object(c.jsx)("div",{className:"anime-list-grid-view",children:o})})})),le=n(7),he=function(){function e(t,n){var i=this;Object(f.a)(this,e),this.setWatchedEpisod=function(e){i._malAnime.setWatchedEpisod(e),i._shikimoriAnime.setWatchedEpisod(e)},this.incrementWatchedEpisod=function(){i._malAnime.incrementWatchedEpisod(i.watchedEpisodes+1),i._shikimoriAnime.incrementWatchedEpisod(i.watchedEpisodes+1)},this.decrimentWatchedEpisod=function(){i._malAnime.decrimentWatchedEpisod(i.watchedEpisodes-1),i._shikimoriAnime.decrimentWatchedEpisod(i.watchedEpisodes-1)},this.setScore=function(e){i._malAnime.setScore(e),i._shikimoriAnime.setScore(e)},this.setRewatching=function(e){i._malAnime.setRewatching(e),i._shikimoriAnime.setRewatching(e)},this.setStatus=function(e){i._malAnime.setStatus(e),i._shikimoriAnime.setStatus(e)},this._shikimoriAnime=t,this._malAnime=n}return Object(j.a)(e,[{key:"shikimoriAnime",get:function(){return this._shikimoriAnime}},{key:"malAnime",get:function(){return this._malAnime}},{key:"name",get:function(){return this._malAnime.name}},{key:"isEqualEpisodes",get:function(){return this._shikimoriAnime.episodes.watched===this._malAnime.episodes.watched}},{key:"watchedEpisodes",get:function(){return this._malAnime.episodes.watched}},{key:"totalEpisodes",get:function(){return this._malAnime.episodes.total}},{key:"shikimoriWatchedEpisodes",get:function(){return this._shikimoriAnime.episodes.watched}},{key:"malWatchedEpisodes",get:function(){return this._malAnime.episodes.watched}},{key:"isEqualStatuses",get:function(){return this._shikimoriAnime.status===this._malAnime.status}},{key:"status",get:function(){return+this._malAnime.status}},{key:"shikimoriStatus",get:function(){return this._shikimoriAnime.status}},{key:"malStatus",get:function(){return this._malAnime.status}},{key:"isEqualScores",get:function(){return this._shikimoriAnime.score===this._malAnime.score}},{key:"score",get:function(){return this._malAnime.score}},{key:"shikimoriScore",get:function(){return this._shikimoriAnime.score}},{key:"malScore",get:function(){return this._malAnime.score}},{key:"isEqualRewatchings",get:function(){return this._shikimoriAnime.rewatching===this._malAnime.rewatching}},{key:"rewatching",get:function(){return this._malAnime.rewatching}},{key:"shikimoriRewatching",get:function(){return this._shikimoriAnime.rewatching}},{key:"malRewatching",get:function(){return this._malAnime.rewatching}},{key:"smallImage",get:function(){return this._malAnime.image.small}},{key:"bigImage",get:function(){return this._malAnime.image.big}},{key:"hasDifferent",get:function(){return this._shikimoriAnime.episodes.watched!==this._malAnime.episodes.watched||this._shikimoriAnime.score!==this._malAnime.score||this._shikimoriAnime.status!==this._malAnime.status||this._shikimoriAnime.rewatching!==this._malAnime.rewatching}},{key:"setWatchedEpisodesLikeShikimori",value:function(){this._malAnime.setWatchedEpisod(this._shikimoriAnime.episodes.watched)}},{key:"setWatchedEpisodesLikeMyAnimeList",value:function(){this._shikimoriAnime.setWatchedEpisod(this._malAnime.episodes.watched)}},{key:"setStatusLikeShikimori",value:function(){this._malAnime.setStatus(this._shikimoriAnime.status)}},{key:"setStatusLikeMyAnimeList",value:function(){this._shikimoriAnime.setStatus(this._malAnime.status)}},{key:"setScoreLikeShikimori",value:function(){this._malAnime.setScore(this._shikimoriAnime.score)}},{key:"setScoreLikeMyAnimeList",value:function(){this._shikimoriAnime.setScore(this._malAnime.score)}},{key:"setRewatchingLikeShikimori",value:function(){this._malAnime.setRewatching(this._shikimoriAnime.rewatching)}},{key:"setRewatchingLikeMyAnimeList",value:function(){this._shikimoriAnime.setRewatching(this._malAnime.rewatching)}},{key:"setAllParamsLikeShikimori",value:function(){this.setWatchedEpisodesLikeShikimori(),this.setStatusLikeShikimori(),this.setScoreLikeShikimori(),this.setRewatchingLikeShikimori()}},{key:"setAllParamsLikeMyAnimeList",value:function(){this.setWatchedEpisodesLikeMyAnimeList(),this.setStatusLikeMyAnimeList(),this.setScoreLikeMyAnimeList(),this.setRewatchingLikeMyAnimeList()}}]),e}(),me={watching:1,completed:2,planned:3,plan_to_watch:3,on_hold:4,dropped:5,rewatching:6};function de(e,t){return Object(m.n)({listLoaded:!1,loadingAnimeList:!1,fullList:[],currentWatchinMap:{},completedMap:{},onholdMap:{},planToWatchMap:{},droppedMap:{},clearMaps:function(){this.currentWatchinMap={},this.completedMap={},this.onholdMap={},this.planToWatchMap={},this.droppedMap={}},updateMaps:function(){var n=this;return Object(h.a)(l.a.mark((function i(){var r,s,a,c,o;return l.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n.updateListLoadedStatus(!1),n.loadingAnimeList=!0,i.next=4,e.animeList();case 4:for(o in s=i.sent,r={},Object(le.a)(r,1,n.currentWatchinMap),Object(le.a)(r,2,n.completedMap),Object(le.a)(r,3,n.planToWatchMap),Object(le.a)(r,4,n.onholdMap),Object(le.a)(r,5,n.droppedMap),a=r,c=function(i){var r=t(s.list[i]);Object(m.q)((function(){return r.episodes.watched}),(function(){e.setEpisode(r)})),Object(m.q)((function(){return r.status}),(function(){e.setStatus(r)})),Object(m.q)((function(){return r.score}),(function(){e.setScore(r)})),Object(m.q)((function(){return r.rewatching}),(function(){e.setRewatching(r)})),a[r.status][r.raitId]=r,n.fullList.push(r)},s.list)c(o);n.loadingAnimeList=!1,n.updateListLoadedStatus(!0);case 10:case"end":return i.stop()}}),i)})))()},updateListLoadedStatus:function(e){this.listLoaded=e},updateCurrentWatchinMap:function(){return Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},updateCompletedMap:function(){return Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},updateOnholdMap:function(){return Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},updatePlanToWatchMap:function(){return Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},updateDroppedMap:function(){return Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},appendToCurrentWatchinMap:function(e){},appendToCompletedMap:function(e){},appendToOnholdMap:function(e){},appendToPlanToWatchMap:function(e){},appendToDroppedMap:function(e){}})}var pe={shikimori:de(new A,(function(e){var t=me[e.status],n=!1;return 6===t&&(t=1,n=!0),new v(e.anime.id,e.id,e.anime.name,t,"https://shikimori.one".concat(e.anime.image.preview),"https://shikimori.one".concat(e.anime.image.original),e.episodes,e.anime.episodes,e.score,n)})),myAnimeList:de(new N,(function(e){return new v(e.node.id,e.node.id,e.node.title,me[e.node.my_list_status.status],e.node.main_picture.medium,e.node.main_picture.large,e.node.my_list_status.num_episodes_watched,e.node.num_episodes,e.node.my_list_status.score,e.node.my_list_status.is_rewatching)})),general:Object(m.n)({generalListAnimeNamesMap:{},animeGeneralList:[],onlyShikimoriList:[],onlyMalList:[],waitList:!0,setWaitingStatus:function(e){this.waitList=e},makeGeneralList:function(){for(var e=function(e){var t={};for(var n in e)t[e[n].name.toLowerCase()]=e[n];return t},t=function(e,t){for(var n=[],i=0;i<e.length;i++)t[e[i]]||n.push(e[i]);return n},n=e(pe.shikimori.fullList),i=e(pe.myAnimeList.fullList),r=Object.keys(n),s=Object.keys(i),a=[],c={},o=0;o<r.length;o++)i[r[o]]&&(a.push(new he(n[r[o]],i[r[o]])),c[r[o]]=!0);this.generalListAnimeNamesMap=c,this.animeGeneralList=a,this.onlyShikimoriList=t(r,i),this.onlyMalList=t(s,n),this.setWaitingStatus(!1)}},{generalListAnimeNamesMap:!1})},fe=function(){pe.shikimori.listLoaded&&pe.myAnimeList.listLoaded?pe.general.makeGeneralList():pe.general.setWaitingStatus(!0)};Object(m.q)((function(){return pe.shikimori.listLoaded}),fe),Object(m.q)((function(){return pe.myAnimeList.listLoaded}),fe),Object(m.q)((function(){return p.shikimori.isAuthorized}),(function(){p.shikimori.isAuthorized&&pe.shikimori.updateMaps()})),Object(m.q)((function(){return p.myAnimeList.isAuthorized}),(function(){p.myAnimeList.isAuthorized&&pe.myAnimeList.updateMaps()}));var je,be,ge=pe,we="name",ke="name_r",ve="score",Oe="score_r",ye="series",xe="series_r",_e=(je={},Object(le.a)(je,we,(function(e,t){return e.name>t.name?1:e.name<t.name?-1:0})),Object(le.a)(je,ke,(function(e,t){return e.name<t.name?1:e.name>t.name?-1:0})),Object(le.a)(je,ve,(function(e,t){return e.score-t.score})),Object(le.a)(je,Oe,(function(e,t){return t.score-e.score})),Object(le.a)(je,ye,(function(e,t){return e.totalEpisodes-t.totalEpisodes})),Object(le.a)(je,xe,(function(e,t){return t.totalEpisodes-e.totalEpisodes})),je),Le=(n(86),be={},Object(le.a)(be,we,0),Object(le.a)(be,ke,1),Object(le.a)(be,ye,2),Object(le.a)(be,xe,3),Object(le.a)(be,ve,4),Object(le.a)(be,Oe,5),be),Ae=function(e,t,n,i,r){return Object(c.jsx)("div",{title:n,onClick:function(){return e.setSortField(i)},children:Object(c.jsx)("i",{className:r})},t)},Se=function(e){var t=[Ae(e,0,"Sort by name (asc)",we,"icon-sort-by-name-asc"),Ae(e,1,"Sort by name (desc)",ke,"icon-sort-by-name-desc"),Ae(e,2,"Sort by total series (asc)",ye,"icon-sort-by-series-asc"),Ae(e,3,"Sort by total series (desc)",xe,"icon-sort-by-series-desc"),Ae(e,4,"Sort by score (asc)",ve,"icon-sort-by-score-asc"),Ae(e,5,"Sort by score (desc)",Oe,"icon-sort-by-score-desc")],n=Le[e.sortField];return t[n]=r.a.cloneElement(t[n],{className:"active",onClick:null}),t},Ne=Object(Z.c)((function(e){var t=e.store;return Object(c.jsx)("div",{className:"sort-variant-list",children:Se(t)})})),Ce=(n(87),"anime-list-variant-selector"),Ee=Ce+" active",Me=Object(Z.c)((function(e){var t=e.store;return Object(c.jsxs)("div",{className:"anime-list-variant",children:[Object(c.jsx)("button",{className:0===t.selectedWatchingGroup?Ee:Ce,onClick:function(){return t.selectWatchingGroup(0)},children:"All anime"}),Object(c.jsx)("button",{className:1===t.selectedWatchingGroup?Ee:Ce,onClick:function(){return t.selectWatchingGroup(1)},children:"Watching"}),Object(c.jsx)("button",{className:2===t.selectedWatchingGroup?Ee:Ce,onClick:function(){return t.selectWatchingGroup(2)},children:"Completed"}),Object(c.jsx)("button",{className:3===t.selectedWatchingGroup?Ee:Ce,onClick:function(){return t.selectWatchingGroup(3)},children:"Plan to watch"}),Object(c.jsx)("button",{className:4===t.selectedWatchingGroup?Ee:Ce,onClick:function(){return t.selectWatchingGroup(4)},children:"On hold"}),Object(c.jsx)("button",{className:5===t.selectedWatchingGroup?Ee:Ce,onClick:function(){return t.selectWatchingGroup(5)},children:"Dropped"})]})})),We=(n(88),function(e){var t=e.store;return Object(c.jsxs)("div",{className:"anime-list-header",children:[Object(c.jsx)("div",{className:"anime-list-header-left",children:Object(c.jsx)(Ne,{store:t})}),Object(c.jsx)("div",{className:"anime-list-header-center",children:Object(c.jsx)(Me,{store:t})}),Object(c.jsx)("div",{className:"anime-list-header-right",children:Object(c.jsx)("button",{className:"action-button",onClick:function(){return t.reloadAnimeList()},children:Object(c.jsx)("i",{className:"icon-cw"})})})]})}),ze=(n(89),n(30)),Ie=(n(90),function(e){return Object(ze.a)(e),Object(c.jsxs)("div",{className:"loader",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("i",{className:"icon-spin4"}),Object(c.jsx)("i",{className:"icon-spin4"})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("i",{className:"icon-spin4"}),Object(c.jsx)("i",{className:"icon-spin4"})]})]})}),Ue=Object(Z.c)((function(){var e=Object(i.useState)(function(){var e=Object(m.n)({selectedWatchingGroup:0,sortField:we,animeList:[],selectWatchingGroup:function(e){this.selectedWatchingGroup=e,this.updateAnimeList()},reloadAnimeList:function(){ge.shikimori.updateMaps(),ge.myAnimeList.updateMaps()},updateAnimeList:function(){var e=this;this.animeList=ge.general.animeGeneralList.filter((function(t){return!e.selectedWatchingGroup||t.status===e.selectedWatchingGroup})),this.sortAnimeList()},setSortField:function(e){this.sortField=_e[e]?e:we,this.sortAnimeList()},sortAnimeList:function(){var e=this.animeList.sort(_e[this.sortField]);this.animeList.replace(e)}});return Object(m.q)((function(){return ge.general.waitList}),(function(){ge.general.waitList||e.updateAnimeList()})),e}()),t=Object(D.a)(e,1)[0];return Object(c.jsxs)("div",{className:"anime-list",children:[Object(c.jsx)("div",{className:"anime-list-header-wrap",children:Object(c.jsx)(We,{store:t})}),Object(c.jsx)("div",{className:"anime-list-wrap",children:Object(c.jsx)(ue,{store:t},t.selectedWatchingGroup)}),ge.general.waitList?Object(c.jsx)("div",{className:"anime-list-wrap loading",children:Object(c.jsx)(Ie,{})}):null]})}));var Re=function(){return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(ee,{}),Object(c.jsx)("div",{className:"app-anime-list-wrap",children:Object(c.jsx)(Ue,{})})]})},Pe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,96)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),i(e),r(e),s(e),a(e)}))},Te=n(31),Ge=n.n(Te),qe=n(15),Be=(n(91),Object(qe.a)((function(e){var t=e.authStore,n=e.client;return Object(c.jsx)("div",{className:"base-auth-block-button",children:Object(c.jsxs)("div",{className:"base-auth-block-button-wrap",children:[Object(c.jsx)("i",{className:"base-auth-block-button-user-icon icon-user-circle-o"}),Object(c.jsx)("button",{className:"login-btn",onClick:function(){t.setAuthorizationProcessState(!0),n.login()},children:Object(c.jsx)("p",{children:"Login"})})]})})}))),De=Object(qe.a)((function(e){var t=e.authStore,n=e.userStore,i=e.client;return Object(c.jsx)("div",{className:"base-auth-block-user-wrap",children:0===n.id||t.authorization?Object(c.jsx)("div",{className:"loader",children:" ... "},"0"):Object(c.jsxs)("div",{className:"user",children:[Object(c.jsxs)("div",{className:"avatar",children:[Object(c.jsx)("div",{className:"img-wrap",children:Object(c.jsx)("img",{src:n.picSrc,alt:n.nickname})}),Object(c.jsx)("button",{className:"logout",onClick:function(){return i.logout()},children:"Logout"})]}),Object(c.jsx)("div",{className:"nickname",children:Object(c.jsx)("h2",{children:n.nickname})})]},"1")})})),Fe=Object(qe.a)((function(e){var t=e.authStore,n=e.authClient,i=e.userStore,r=e.className;return Object(c.jsx)("div",{className:r,children:t.isAuthorized||t.authorization?Object(c.jsx)(De,{authStore:t,userStore:i,client:n}):Object(c.jsx)(Be,{authStore:t,client:n})})})),He=(n(92),function(){return Object(c.jsx)(Fe,{className:"myanimelist-auth-block",authStore:p.myAnimeList,authClient:R,userStore:M.myAnimeList})}),Je=(n(93),function(){return Object(c.jsx)(Fe,{className:"shikimori-auth-block",authStore:p.shikimori,authClient:q,userStore:M.shikimori})}),Ve=(n(94),function(){return Object(c.jsx)("div",{className:"authorization-stage",children:Object(c.jsxs)("div",{className:"authorization-stage-block",children:[Object(c.jsxs)("div",{className:"authorization-stage-block-header",children:[Object(c.jsxs)("h1",{children:[Object(c.jsx)("span",{className:"auth-colorization-shiki-text-rev",children:"Shiki"}),Object(c.jsx)("span",{className:"auth-colorization-mal-text-rev",children:"mal"})]}),Object(c.jsx)("p",{children:"Shikimal - Your personal tool for syncing Shikimori and MyAnimeList anime lists!"})]}),Object(c.jsxs)("div",{className:"authorization-stage-block-body",children:[Object(c.jsxs)("div",{className:"shikimori auth-colorization-shiki-bg",children:[Object(c.jsx)("h2",{className:"auth-colorization-shiki-text",children:Object(c.jsx)("i",{className:"icon-shikimori"})}),Object(c.jsx)(Je,{})]}),Object(c.jsxs)("div",{className:"myanimelist auth-colorization-mal-bg",children:[Object(c.jsx)("h2",{className:"auth-colorization-mal-text",children:Object(c.jsx)("i",{className:"icon-mal"})}),Object(c.jsx)(He,{})]})]}),Object(c.jsx)("div",{className:"authorization-stage-block-footer"})]})})});!function(){if(window.opener)return window.opener.emitter.emit("auth-".concat(window.name),new URLSearchParams(window.location.search).get("code")),void window.close();window.emitter=new Ge.a;var e=Object(qe.a)((function(e){var t=e.shikimori,n=e.myAnimeList;return Object(c.jsx)(c.Fragment,{children:t.id>0&&n.id>0?Object(c.jsx)(Re,{}):Object(c.jsx)(Ve,{})})}));a.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(e,{shikimori:M.shikimori,myAnimeList:M.myAnimeList})}),document.getElementById("root"))}(),Pe()}},[[95,1,2]]]);
//# sourceMappingURL=main.0b13cc46.chunk.js.map